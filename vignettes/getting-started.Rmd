---
title: "Getting Started with insperplot"
output: rmarkdown::html_vignette
vignette: >
  %\VignetteIndexEntry{Getting Started with insperplot}
  %\VignetteEngine{knitr::rmarkdown}
  %\VignetteEncoding{UTF-8}
---

```{r, include = FALSE}
knitr::opts_chunk$set(
  collapse = TRUE,
  comment = "#>",
  fig.width = 7,
  fig.asp = 0.618,
  fig.align = "center",
  out.width = "90%",
  dpi = 300,
  warning = FALSE,
  message = FALSE,
  dev = "ragg_png"
)
```

## Introduction

**insperplot** extends ggplot2 with Insper's visual identity, providing custom themes, color palettes, and specialized plotting functions for academic and institutional use.

### Installation

```{r eval=FALSE}
# Install from GitHub
remotes::install_github("viniciusreginatto/insperplot")
```

```{r setup}
library(insperplot)
library(ggplot2)
library(ragg)
```

### Font Setup (Optional but Recommended)

insperplot uses fonts based on Insper's official template: **Georgia** (primary for titles), **Inter** and **Arial** (for body text). **EB Garamond** and **Playfair Display** are used as fallbacks for titles. While optional, installing these fonts significantly enhances plot aesthetics.

Note: while "GT Ultra Fine Bold" is one of the official fonts, it is not available for free and thus is not included in the package.

```{r eval=FALSE}
# Check if recommended fonts are installed
check_insper_fonts()
```

**Installation instructions:**

1. Visit [Google Fonts](https://fonts.google.com)
2. Download "Inter", "EB Garamond", and "Playfair Display"
3. Install on your system
4. Restart R/RStudio

Note: Georgia is typically pre-installed on most systems. GT Ultra Fine is a proprietary font and not available for free. If fonts are unavailable, plots will use system defaults.

## Basic Usage: theme_insper()

The foundation of insperplot is `theme_insper()`, which applies Insper's visual identity to any plot.

```{r theme-insper-basic}
ggplot(mtcars, aes(mpg, wt)) +
  geom_point() +
  labs(
    title = "Basic Theme",
    subtitle = "Using theme_insper()",
    caption = "Fonte: mtcars") +
  theme_insper()
```

This function supports some quick customization options demonstrated below.

```{r}
ggplot(mtcars, aes(mpg, wt)) +
  geom_point() +
  labs(
    title = "Basic Theme",
    subtitle = "Using theme_insper()",
    caption = "Fonte: mtcars"
  ) +
  theme_insper(font_title = "Inter", border = "closed")
```

The main arguments of `theme_insper()` are:

- `font_title`: Font for titles. Default is "Georgia".
- `font_text`: Font for body text. Default is "Inter 18pt".
- `grid`: Grid lines. Default is `TRUE`.
- `border`: Border style. Default is "open" (no border).
- `align`: Overall title, subtitle, and caption alignment. Default is "panel" (same as `ggplot2` default).

To change any particular aspect of `theme_insper` add a `theme()` call.

```{r}
ggplot(mtcars, aes(mpg, wt)) +
  geom_point() +
  theme_insper() +
  theme(axis.text = element_text(color = "red"))
```

## Working with Colors

The colors used in insperplot are based on Insper's [brandkit](https://github.com/Insper/Cores-Marca-Insper).

### Color Basics

#### Extracting Individual Colors

Use `get_insper_colors()` to extract individual colors by name:

```{r colors-extract}
# Get specific colors
get_insper_colors("reds1", "teals1")

# Get all individual colors
all_colors <- get_insper_colors()
head(all_colors)
```

#### Visualizing Individual Colors

Use `show_insper_colors()` to see what colors are available:

```{r colors-viz, fig.height=3}
show_insper_colors()
show_insper_colors("reds")
```

#### Working with Palettes

```{r palette-viz, fig.height=4}
# Show specific palette
show_insper_palette("reds")

# Show default "main" palette
show_insper_palette()

# List all available palettes
list_palettes()
```

### Using Colors in ggplot2

The package provides scale functions for seamlessly integrating Insper colors into ggplot2 plots.

#### Discrete Scales

For categorical variables, use `scale_color_insper_d()` or `scale_fill_insper_d()`:

```{r scale-discrete-color}
# Discrete color scale
ggplot(iris, aes(x = Sepal.Length, y = Sepal.Width, color = Species)) +
  geom_point(size = 3) +
  scale_color_insper_d(palette = "main") +
  theme_insper() +
  labs(title = "Discrete Color Scale")
```

```{r scale-discrete-fill}
# Discrete fill scale with barplot
ggplot(mtcars, aes(x = factor(cyl), fill = factor(gear))) +
  geom_bar(position = "dodge") +
  scale_fill_insper_d(palette = "bright") +
  theme_insper() +
  labs(title = "Discrete Fill Scale", x = "Cylinders", fill = "Gears")
```

#### Continuous Scales

For numerical variables, use `scale_color_insper_c()` or `scale_fill_insper_c()`:

```{r scale-continuous}
# Continuous color scale
ggplot(mtcars, aes(x = wt, y = mpg, color = hp)) +
  geom_point(size = 3) +
  scale_color_insper_c(palette = "reds") +
  theme_insper() +
  labs(title = "Continuous Color Scale", color = "Horsepower")
```

### Using Colors in Base R

While insperplot was designed for ggplot2, Insper colors can also be used in base R plots:

```{r base-r-plots-1}
# Simple scatter plot with Insper colors
plot(mtcars$mpg, mtcars$wt,
     col = get_insper_colors("reds1"),
     pch = 19, cex = 1.5,
     main = "Base R Plot with Insper Colors",
     xlab = "MPG", ylab = "Weight")
```

```{r base-r-plots-2}
# Barplot with multiple Insper colors
barplot(table(mtcars$cyl),
        col = get_insper_colors("reds1", "oranges1", "teals1"),
        main = "Cylinders Distribution",
        xlab = "Number of Cylinders",
        ylab = "Count")
```

## Saving Plots

For best results when saving plots, use `ggsave()` with the ragg device to ensure proper font rendering:

```{r eval=FALSE}
# Save plot with optimal settings
p <- ggplot(mtcars, aes(wt, mpg)) +
  geom_point() +
  theme_insper()

ggsave("my_plot.png", p, width = 8, height = 5, dpi = 300, device = ragg::agg_png)
```
